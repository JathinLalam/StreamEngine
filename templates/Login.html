<!-- {% include 'nav.html' %} -->
{% load static %}

{% block content %}
<!DOCTYPE html public>
<html lang ="en" dir = "ltr">
    <head>
        <meta charset = "utf-8">
        <title>SignIn</title>
    <link rel = "StyleSheet" href = "{% static './css/StyleSheet.css' %}">

    </head>
<body style="background-image: url('/static/images/background.jpg');">
    <div class = "center">
        <h1 style="background-image: url('/static/images/user.png');"></h1>
        <form method = "post" action="{% url 'login' %}">
		        {% csrf_token %}
            <div class = "txt_field"> 
                <img src="{% static './images/user.png'%}" width="15" >  
                <label style ="font-size:15px">Username</label>
                <div>
                  <input name="username" type = "text" required> 
                </div>
                
            </div>
            <div class = "txt_field">
                <img src="{% static './images/password.png'%}" width="15">
                <label style ="font-size:15px">Password</label>
                <input name="password" type = "password" id="psw" name="psw" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" 
                required>
                
                <div class="Forgotpassword">
                  <p style = "font-size:12px">Forgot Password ?<a id ="anchorColor" href="{% url 'forgotpassword' %}">click here </style></a></p>
                </div>
                
            </div>
            <!-- <div class="pass"><p style ="font-size:10px" >Forgot Password?</p></div> -->
          <div >
              <input type ="submit" class="button" value = "Sign In" style ="font-size:15px">  
          </div>
            <div class="Signup_link">
            <p style ="font-size:12px">Dont have an Account? <a id="anchorColor" href ="{% url 'register' %}">SignUp</a></p>
            </div>
        </form>
    </div>
</body>
<script>
    var myInput = document.getElementById("psw");
    // When the user clicks on the password field, show the message box
    myInput.onfocus = function() {
      document.getElementById("message").style.display = "block";
    }
    
    // When the user clicks outside of the password field, hide the message box
    myInput.onblur = function() {
      document.getElementById("message").style.display = "none";
    }
    
    // When the user starts to type something inside the password field
    myInput.onkeyup = function() {
      // Validate lowercase letters
      var lowerCaseLetters = /[a-z]/g;
      if(myInput.value.match(lowerCaseLetters)) {
        letter.classList.remove("invalid");
        letter.classList.add("valid");
      } else {
        letter.classList.remove("valid");
        letter.classList.add("invalid");
    }
    
      // Validate capital letters
      var upperCaseLetters = /[A-Z]/g;
      if(myInput.value.match(upperCaseLetters)) {
        capital.classList.remove("invalid");
        capital.classList.add("valid");
      } else {
        capital.classList.remove("valid");
        capital.classList.add("invalid");
      }
    
      // Validate numbers
      var numbers = /[0-9]/g;
      if(myInput.value.match(numbers)) {
        number.classList.remove("invalid");
        number.classList.add("valid");
      } else {
        number.classList.remove("valid");
        number.classList.add("invalid");
      }
    
      // Validate length
      if(myInput.value.length >= 8) {
        length.classList.remove("invalid");
        length.classList.add("valid");
      } else {
        length.classList.remove("valid");
        length.classList.add("invalid");
      }
    }
    </script>
</html>

{% endblock %}