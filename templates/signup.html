

{% load static %}

<!DOCTYPE html public>
<html lang ="en" dir = "ltr">
    <head>
        <meta charset = "utf-8">
    <title>SignIn And SignUp</title>
    <link rel = "StyleSheet" href = "{% static './css/StyleSheet.css'%}">
    </head>
<body style="background-image: url('/static/images/background.jpg');">
    <div class="alignment">
      {% include 'messages.html' %}
    </div>
    <div class = "center" style="width:20%">
        <h1 style="background-image: url('/static/images/user.png');"></h1>
        <form method = "post" action="{% url 'register' %}">
		    {% csrf_token %}
            <div>
                <div class = "txt_field">  
                    <img src="{% static './images/user.png'%}" width="15" > 
                    <label style ="font-size:15px">Username</label>
                  <input name="username" type = "text" required>
                </div>
                <div class = "txt_field">
                    <img src ="{% static './images/email.png'%}" width="15" >
                    <label style ="font-size:15px">MailId</label>
                    <input name="email" type ="email" required>
                </div>
                <div class = "txt_field">
                    <img src="{% static './images/password.png'%}" width="15">
                    <label style ="font-size:15px">Password</label>
                    <input name="password" type = "password"  id="psw" name="psw" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                    title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" 
                    required>
                </div>
                <div class = "txt_field">
                    <img src="{% static './images/password.png'%}" width="15">
                    <label   style ="font-size:15px">Confirm Password</label>
                    <input name="confirm_password" type = "password"  id="psw" name="psw" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                    title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" 
                    required>
                </div>
                <div class = "txt_field">
                  <img src="{% static './images/password.png'%}" width="15">
                  <label   style ="font-size:15px">Phone number</label>
                  <input name="mobile_number" type = "text"
                  required>
              </div>
                <div>
                    <input type ="Submit" class ="button" value = "SignUp" style ="font-size:15px">
                </div>
            </div> 
            <div class = "signin_link">
                <p style="font-size: 10px;">Already have an account? <a id="anchorColor" href ="{% url 'login' %}"> SignIn </a></p>
            </div>
        </form>
    </div>
</body>
<script>
    var myInput = document.getElementById("psw");
    // When the user clicks on the password field, show the message box
    myInput.onfocus = function() {
      document.getElementById("message").style.display = "block";
    }
    
    // When the user clicks outside of the password field, hide the message box
    myInput.onblur = function() {
      document.getElementById("message").style.display = "none";
    }
    
    // When the user starts to type something inside the password field
    myInput.onkeyup = function() {
      // Validate lowercase letters
      var lowerCaseLetters = /[a-z]/g;
      if(myInput.value.match(lowerCaseLetters)) {
        letter.classList.remove("invalid");
        letter.classList.add("valid");
      } else {
        letter.classList.remove("valid");
        letter.classList.add("invalid");
    }
    
      // Validate capital letters
      var upperCaseLetters = /[A-Z]/g;
      if(myInput.value.match(upperCaseLetters)) {
        capital.classList.remove("invalid");
        capital.classList.add("valid");
      } else {
        capital.classList.remove("valid");
        capital.classList.add("invalid");
      }
    
      // Validate numbers
      var numbers = /[0-9]/g;
      if(myInput.value.match(numbers)) {
        number.classList.remove("invalid");
        number.classList.add("valid");
      } else {
        number.classList.remove("valid");
        number.classList.add("invalid");
      }
    
      // Validate length
      if(myInput.value.length >= 8) {
        length.classList.remove("invalid");
        length.classList.add("valid");
      } else {
        length.classList.remove("valid");
        length.classList.add("invalid");
      }
    }
    </script>
</html>